{"version":3,"sources":["components/Filter.js","components/Notification.js","components/Numbers.js","components/PersonForm.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filterText","handleFilterChange","value","onChange","placeholder","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Numbers","person","deleteHandler","name","number","onClick","PersonForm","addPerson","newName","handleNameChange","handleNumberChange","newNumber","onSubmit","type","baseUrl","phonebookService","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","changedObject","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterText","msg","setMsg","useEffect","event","target","preventDefault","copyPerson","find","personObject","alert","window","confirm","map","p","catch","err","setTimeout","concat","filter","toLowerCase","startsWith","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.12f0c598.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filterText, handleFilterChange }) => {\n    return (\n        <div>\n            filter shown with a: <input value={filterText} onChange={handleFilterChange} placeholder='filter...' />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message }) => {\n    const notificationStyle = {\n        color: 'darkred',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null)\n        return null\n    return (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Numbers = ({ person, deleteHandler }) => {\n    return (\n        <p>\n            {person.name} {person.number} <button onClick={deleteHandler}>delete</button>\n        </p>\n    )\n}\n\n\nexport default Numbers","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, handleNumberChange, newNumber }) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange} placeholder='a new name...' />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange} placeholder='a new number...' />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, changedObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, changedObject)\n    return request.then(response => response.data)\n}\n\nconst phonebookService = {\n    getAll,\n    create,\n    remove,\n    update\n}\n\nexport default phonebookService","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport Numbers from './components/Numbers'\nimport PersonForm from './components/PersonForm'\nimport phonebookService from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [msg, setMsg] = useState(null)\n\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const copyPerson = persons.find(person => person.name === newName)\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (copyPerson) {\n      if (personObject.number === copyPerson.number)\n        alert(`${newName} is already added to phonebook`)\n      else {\n        const toChange = window.confirm(`${copyPerson.name} already added to phonebook, replace old number with new one?`)\n        if (toChange) {\n          personObject.id = copyPerson.id\n          phonebookService\n            .update(personObject.id, personObject)\n            .then(data => {\n              setPersons(persons.map(p => p.id === personObject.id ? personObject : p))\n              setMsg(`${personObject.name} update`)\n            }).catch(err => {\n              setMsg(`${err}`)\n            })\n          setTimeout(() => {\n            setMsg(null)\n          }, 5000)\n        }\n      }\n    }\n    else {\n      phonebookService\n        .create(personObject)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setMsg(`Added ${personObject.name}`)\n        }).catch(err => {\n          setMsg(`${err}`)\n        })\n      setTimeout(() => {\n        setMsg(null)\n      }, 5000)\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = event => setNewName(event.target.value)\n  const handleNumberChange = event => setNewNumber(event.target.value)\n  const handleFilterChange = event => setFilterText(event.target.value)\n  const personsToShow = () => persons.filter(person => person.name.toLowerCase().startsWith(filterText.toLowerCase()))\n\n  const deleteHandler = (person) => {\n    const toDelete = window.confirm(`Delete ${person.name}?`)\n    if (toDelete)\n      phonebookService\n        .remove(person.id)\n        .then(data => {\n          setPersons(persons.filter(p => {\n            return p.id !== person.id\n          }))\n        })\n        .catch((err) => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMsg(`${person.name} already removed`)\n          setTimeout(() => {\n            setMsg(null)\n          }, 5000)\n        })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={msg} />\n      <Filter filterText={filterText} handleFilterChange={handleFilterChange} />\n      <h2>Add a new </h2>\n      <PersonForm addPerson={addPerson} newName={newName}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange} newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      {personsToShow().map(person => <Numbers key={person.id} person={person} deleteHandler={() => deleteHandler(person)} />)}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}